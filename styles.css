/* Particle background */
#particles-js {
  position: fixed;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  z-index: -1; /* コンテンツの背面に配置 */
}

/* Base styling */
*{box-sizing:border-box;margin:0;padding:0}
body {
  background-color: #000;
  color: #fff;
  font-family: 'Orbitron', sans-serif;
  line-height: 1.6;
  overflow-x: hidden;
  /* Neon grid overlay */
  background-image:
    linear-gradient(rgba(0, 255, 255, 0.3) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 255, 255, 0.3) 1px, transparent 1px);
  background-size: 50px 50px;
}

h1,h2{letter-spacing:2px}

/* Neon title style */
.neon-title {
  font-size: 3.2rem;
  color: #0ff;
  text-shadow: 0 0 6px #0ff, 0 0 12px #f0f;
  margin-bottom: 0.5rem;
  letter-spacing: 2px;
}

/* Neon glow effect */
/* Neon glow effect - Insane Version */
.glow-text {
  font-size: 3.5rem; /* 少し大きく */
  color: #fff;
  text-shadow:
    0 0 7px #fff,
    0 0 10px #fff,
    0 0 21px #fff,
    0 0 42px #f0f,  /* ピンクの光を追加 */
    0 0 82px #0ff,
    0 0 92px #0ff,
    0 0 102px #0ff,
    0 0 151px #0ff;
  margin-top: 1rem;
  animation: flicker 1.5s infinite alternate; /* チラつきアニメーションを追加 */
}

/* チラつきアニメーション */
@keyframes flicker {
  to {
    text-shadow:
      0 0 5px #fff,
      0 0 8px #fff,
      0 0 18px #fff,
      0 0 38px #f0f,
      0 0 73px #0ff,
      0 0 80px #0ff,
      0 0 94px #0ff,
      0 0 140px #0ff;
  }
}
.subtitle{
  color:#f0f;
  margin-top:0.5rem;
}

/* Hero section */
.hero{
  text-align:center;
  padding:4rem 1rem 2rem;
  position:relative;
}
.hero-img{
  width:300px;
  height:auto;
  border-radius:50%;
  box-shadow:0 0 15px #0ff,0 0 30px #f0f;
  animation:pulse 4s ease-in-out infinite;
}

/* 脈動アニメーション */
@keyframes pulse {
  0% {
    box-shadow: 0 0 15px #0ff, 0 0 30px #f0f;
  }
  50% {
    box-shadow: 0 0 25px #0ff, 0 0 50px #f0f;
  }
  100% {
    box-shadow: 0 0 15px #0ff, 0 0 30px #f0f;
  }
}

/* Sections */
section{padding:4rem 1.5rem;max-width:900px;margin:0 auto}
section h2{
  letter-spacing:3px;
  font-size:2rem;
  color:#0ff;
  margin:0;
  text-shadow:0 0 8px #0ff;
}

/* About header flex container */
.track-header{display:flex;flex-direction:column;align-items:flex-start;gap:0.5rem;margin-bottom:0.5rem}
.play-btn{background:#0ff;border:none;color:#000;font-size:1.2rem;padding:0.3rem 0.6rem;border-radius:4px;cursor:pointer;box-shadow:0 0 8px #0ff;transition:opacity 0.3s}
.play-btn:hover{opacity:0.8}


.about-header{
  display:flex;
  align-items:center;
  gap:0.5rem;
  margin-bottom:1rem;
}
.about-ja, .about-en {
  font-family: 'Noto Sans JP', sans-serif; /* 長文用フォント */
  font-size: 1.1rem;
  line-height: 1.8;
}

section p,section li,section td,section th{
  font-size:1rem;
}

.social-links{list-style:none;display:flex;justify-content:center;gap:1rem}
.social-links li{display:inline-block}
.social-icon{width:64px;height:64px;aspect-ratio:1/1;object-fit:cover;filter:drop-shadow(0 0 6px #0ff);transition:transform 0.3s}
.social-icon:hover{transform:scale(1.1)}

/* Prompt Generator link */
.text-link{
  font-size:1.3rem;
  font-weight:700;
}

/* Lyrics scroll box */
.lyrics-container{display:flex;gap:1rem;align-items:flex-start;flex-wrap:nowrap}
.lyrics-box{
  flex:1 1 50%;
  max-height:300px;
  overflow-y:auto;
  white-space:pre-wrap;
  background:rgba(0,0,0,0.5);
  padding:1rem;
  border:1px solid #0ff;
  line-height:1.4;
  font-size:1.1rem;
  box-shadow:0 0 10px rgba(0,255,255,0.3);
  border-radius:4px;
  margin-top:0;
}

.lyrics-art{
  flex:0 0 300px;
  flex:1 1 0;
  max-width:300px;
  height:auto;
  border-radius:4px;
  box-shadow:0 0 10px rgba(0,255,255,0.3);
}

/* 透過させたくない画像を強制不透明に */
.hero-img,
.lyrics-art,
img.no-fade {
  opacity: 1 !important;
}

/* Language toggle button */
.lang-toggle{
  background:transparent;
  border:1px solid #0ff;
  color:#0ff;
  padding:0.3rem 0.8rem;
  font-family:'Orbitron',sans-serif;
  cursor:pointer;
  margin-top:0.5rem;
  transition:background 0.3s, color 0.3s;
}
.lang-toggle:hover{
  background:#0ff;
  color:#000;
}

/* Music list */
.music ul{list-style:none}
.music li{margin:0.5rem 0;padding-left:1rem;position:relative}
.music li:before{content:"";position:absolute;left:0;top:0.4rem;width:6px;height:6px;background:#f0f;border-radius:50%;box-shadow:0 0 6px #f0f}

/* Tour table */
.tour table{width:100%;border-collapse:collapse}
.tour th,.tour td{border:1px solid #0ff;padding:0.5rem;text-align:center}
.tour th{background:rgba(0,255,255,0.1)}

/* Footer */
footer{padding:2rem 1rem;text-align:center;background:#010101;font-size:0.9rem;color:#666}
footer p{color:#888}

/* Animated background lines */
body:before{
  z-index: -2;
  content:"";
  position:fixed;
  top:0;left:0;width:200%;height:200%;
  background:repeating-linear-gradient(120deg,rgba(255,0,255,0.05)0 2px,transparent 2px 40px),repeating-linear-gradient(60deg,rgba(0,255,255,0.05)0 2px,transparent 2px 40px);
  transform:translate(-50%,-50%) rotate(0deg);
  animation:rotateBg 20s linear infinite;
  pointer-events:none;
}
@keyframes rotateBg{from{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(360deg)}}

/* Cyberpunk city background image */
body::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url('cyber_city_bg.jpg') center/cover no-repeat;
  opacity: 0.4; /* 濃く表示に戻す */
  pointer-events: none;
  z-index: -3; /* body:before(-2)よりさらに背面 */
}

/* --- 追加コード ここから --- */

/* スクロールアニメーションの準備 */
.reveal {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

/* スクロールして表示領域に入ったら適用されるクラス */
.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* --- 追加コード ここまで --- */

/* セクションのネオンフレーム */
section.reveal.visible { /* アニメーション表示後に枠線を適用 */
  border: 1px solid #0ff;
  padding: 2.5rem; /* 内側の余白を少し調整 */
  margin: 2rem auto; /* セクション間の余白を調整 */
  position: relative;
  background: rgba(0, 0, 0, 0.5); /* 半透明の背景を追加 */
  box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
  border-radius: 5px; /* 少しだけ角を丸める */
}

/* フレームの四隅に装飾を追加 */
section.reveal.visible::before,
section.reveal.visible::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  border-color: #f0f; /* ピンク色に */
  border-style: solid;
}

section.reveal.visible::before {
  top: -5px;
  left: -5px;
  border-width: 2px 0 0 2px;
}

section.reveal.visible::after {
  bottom: -5px;
  right: -5px;
  border-width: 0 2px 2px 0;
}

/* --- ローディング画面のスタイル --- */
#loader-wrapper {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #000;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  transition: opacity 1s ease-out, visibility 1s ease-out;
  opacity: 1;
  visibility: visible;
}

.loader-text {
  color: #0ff;
  font-family: 'Orbitron', sans-serif;
  font-size: 1.2rem;
  text-shadow: 0 0 8px #0ff;
  margin-bottom: 1.5rem;
}

.progress-bar-container {
  width: 80%;
  max-width: 400px;
  height: 10px;
  border: 1px solid #0ff;
  border-radius: 2px;
  margin-bottom: 1.5rem;
  overflow: hidden;
}

.progress-bar {
  width: 0%;
  height: 100%;
  background-color: #0ff;
  box-shadow: 0 0 10px #0ff, 0 0 15px #0ff;
  animation: load 2.5s ease-out forwards;
}

@keyframes load {
  from { width: 0%; }
  to { width: 100%; }
}

.glitch-text {
  font-size: 1.5rem;
  color: #f0f;
  text-shadow: 0 0 8px #f0f;
  animation: flicker 1.5s infinite alternate;
}

/* ローダーを非表示にするクラス */
#loader-wrapper.hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

/* シークバー */
.seek-bar{
  -webkit-appearance:none;
  appearance:none;
  width:100%;
  max-width:400px;
  height:6px;
  background:rgba(0,255,255,0.2);
  border:none;
  border-radius:3px;
  box-shadow:0 0 8px rgba(0,255,255,0.4);
  cursor:pointer;
}
.seek-bar::-webkit-slider-thumb{
  -webkit-appearance:none;
  appearance:none;
  width:16px;
  height:16px;
  border-radius:50%;
  background:#f0f;
  box-shadow:0 0 8px #f0f,0 0 12px #0ff;
  border:2px solid #0ff;
  cursor:pointer;
  transition:transform 0.2s;
}
.seek-bar::-webkit-slider-thumb:hover{transform:scale(1.2);}
.seek-bar::-moz-range-thumb{
  width:16px;height:16px;border-radius:50%;background:#f0f;border:2px solid #0ff;box-shadow:0 0 8px #f0f,0 0 12px #0ff;cursor:pointer;}

/* ボリュームスライダー */
.volume-bar{
  -webkit-appearance:none;
  appearance:none;
  width:100px;
  height:6px;
  background:rgba(255,0,255,0.2);
  border:none;
  border-radius:3px;
  box-shadow:0 0 8px rgba(255,0,255,0.4);
  cursor:pointer;
}
.volume-bar::-webkit-slider-thumb{
  -webkit-appearance:none;
  appearance:none;
  width:14px;
  height:14px;
  border-radius:50%;
  background:#0ff;
  border:2px solid #f0f;
  box-shadow:0 0 8px #0ff,0 0 12px #f0f;
  cursor:pointer;
  transition:transform 0.2s;
}
.volume-bar::-webkit-slider-thumb:hover{transform:scale(1.2);}
.volume-bar::-moz-range-thumb{
  width:14px;height:14px;border-radius:50%;background:#0ff;border:2px solid #f0f;box-shadow:0 0 8px #0ff,0 0 12px #f0f;cursor:pointer;}

/* タイトルと秒数を改行させない */
.track-header h2,
.time-display{
  white-space: nowrap;
}

.player-controls{
  display:flex;
  align-items:center;
  gap:0.5rem;
  margin-top:0.5rem;
}

/* Navbar */
.navbar{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0.8rem 1rem;
  background:rgba(0,0,0,0.7);
  z-index:1000;
  backdrop-filter: blur(4px);
}
.navbar .logo{
  color:#0ff;
  font-size:1.1rem;
  text-shadow:0 0 6px #0ff;
}
.nav-links{
  list-style:none;
  display:flex;
  gap:1.5rem;
}
.nav-links a{
  color:#0ff;
  text-decoration:none;
  text-shadow:0 0 6px #0ff;
}
.hamburger{
  display:none;
  flex-direction:column;
  gap:5px;
  cursor:pointer;
}
.hamburger span{
  display:block;
  width:25px;
  height:3px;
  background:#0ff;
  box-shadow:0 0 6px #0ff;
  transition:transform 0.3s, opacity 0.3s;
}
.hamburger.active span:nth-child(1){
  transform:translateY(8px) rotate(45deg);
}
.hamburger.active span:nth-child(2){
  opacity:0;
}
.hamburger.active span:nth-child(3){
  transform:translateY(-8px) rotate(-45deg);
}

@media (max-width: 768px){
  .hamburger{
    display:flex;
  }
  .nav-links{
    position:fixed;
    top:60px;
    right:-220px;
    flex-direction:column;
    background:rgba(0,0,0,0.9);
    width:200px;
    height:100%;
    padding:2rem 1.5rem;
    transition:right 0.3s ease-in-out;
    gap:1rem;
  }
  .nav-links.show{
    right:0;
  }
  .nav-links li{
    margin-bottom:1rem;
  }
}

/* --- スマートフォン向けレスポンシブ対応 ここから --- */

@media (max-width: 768px) {

  /* 全体的な調整 */
  body {
    background-size: 80px 80px; /* 背景グリッドを調整 */
  }

  section {
    padding: 2.5rem 1rem; /* 左右の余白を縮小 */
  }

  /* ヒーローセクション */
  .hero {
    padding: 3rem 1rem 1.5rem; /* 上下の余白を調整 */
  }
  
  .hero-img {
    width: 200px; /* 画像を少し小さく */
  }

  .glow-text {
    font-size: 2.5rem; /* メインタイトルをスマホ向けサイズに */
    letter-spacing: 1.5px;
  }
  
  .subtitle {
    font-size: 1rem; /* サブタイトルも調整 */
  }

  /* Aboutセクション */
  .about-header {
    flex-direction: column; /* 「About」見出しとボタンを縦並びに */
    align-items: flex-start; /* 左寄せに */
  }

  /* ローダー文字サイズ調整 */
  .glitch-text {
    font-size: 1.1rem;
    text-align: center;
    white-space: normal;
    word-break: break-word;
  }

  /* 楽曲セクション */
  .track-header {
      flex-wrap: wrap; /* 再生ボタンなどを折り返して表示 */
      gap: 0.5rem;
  }

  .track-header h2 {
      width: 100%; /* トラックタイトルは1行を専有 */
      margin-bottom: 0.5rem;
      font-size: 1.4rem; /* モバイルで少し小さく */
      white-space: normal; /* 折り返しを許可 */
      word-break: break-word; /* 長い単語も折り返す */
  }

  .lyrics-container {
    flex-direction: column; /* 歌詞とアートワークを縦並びに変更 */
    align-items: center;   /* 中央揃えに */
    gap: 1.5rem;
  }

  .lyrics-box,
  .lyrics-art {
    flex: none; /* flexの自動調整をリセット */
    width: 100%; /* 幅を画面いっぱいに */
    max-width: 100%;
  }

  .lyrics-art {
    order: -1; /* アートワークを歌詞の上に配置 */
  }

  /* セクションのフレーム装飾 */
  section.reveal.visible {
    padding: 1.5rem; /* 内側の余白を調整 */
  }
}

/* --- スマートフォン向けレスポンシブ対応 ここまで --- */

/* --- Prompt Generator セクションのスタイル --- */
.prompt-catchphrase {
  text-align: center;
  color: #ccc;
  font-family: 'Noto Sans JP', sans-serif;
  font-size: 1rem;
  max-width: 650px;
  margin: 1rem auto 2.5rem;
  line-height: 1.8;
}

.prompt-showcase {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  margin-bottom: 3rem;
}

.prompt-example {
  background: rgba(0, 0, 0, 0.4);
  border-left: 3px solid #f0f;
  padding: 1rem 1.5rem;
  font-family: 'Courier New', Courier, monospace;
  border-radius: 4px;
}

.prompt-example h4 {
  color: #888;
  font-size: 0.9rem;
  margin-bottom: 0.5rem;
  font-weight: normal;
}

.prompt-example p {
  color: #0ff;
  font-size: 1rem;
  white-space: nowrap;
  overflow: hidden;
  width: 0;
}

.cta-button {
  display: block;
  width: fit-content;
  margin: 0 auto;
  padding: 0.8rem 2rem;
  border: 1px solid #0ff;
  color: #0ff;
  text-decoration: none;
  font-weight: bold;
  letter-spacing: 1px;
  box-shadow: 0 0 8px rgba(0, 255, 255, 0.5);
  transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
}

.cta-button:hover {
  background-color: #0ff;
  color: #000;
  box-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
}

@keyframes typing {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes blink-caret {
  from, to { border-color: transparent; }
  50% { border-color: #0ff; }
}

.reveal.visible .typing-animation {
  width: 100%;
  animation: typing 3s steps(80, end), blink-caret .75s step-end infinite;
  animation-fill-mode: forwards;
  border-right: .15em solid #0ff;
}

.reveal.visible .typing-animation-2 {
  width: 100%;
  animation: typing 3s steps(80, end), blink-caret .75s step-end infinite;
  animation-fill-mode: forwards;
  animation-delay: 0.5s;
  border-right: .15em solid #0ff;
}

.reveal.visible .typing-animation-3 {
  width: 100%;
  animation: typing 3s steps(80, end), blink-caret .75s step-end infinite;
  animation-fill-mode: forwards;
  animation-delay: 1s;
  border-right: .15em solid #0ff;
}
